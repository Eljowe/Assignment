{"ast":null,"code":"function drawPoint(x,y,context){context.save();context.fillStyle='#0000FF';context.beginPath();context.arc(x,y,6,0,2*Math.PI,false);context.fill();context.restore();}var updateRadar=function updateRadar(_ref){var droneData=_ref.droneData;droneData=droneData.filter(Boolean);//remove possible undefined objects\nvar c=document.getElementById(\"radarcanvas\");var context=c.getContext(\"2d\");context.font=\"14px Courier New\";Object.keys(droneData).map(function(drone){drawPoint(droneData[drone].x/1000,500-droneData[drone].y/1000,context);//draw a point presenting a drone in the grid\ncontext.fillText([droneData[drone].serialNumber],droneData[drone].x/1000-55,500-droneData[drone].y/1000+20);//nametag for the drone\n});context.font=\"20px Courier New\";context.fillText('No-Fly Zone',190,255);//tag in the center of the circle\ncontext.save();context.strokeStyle='#ff0000';context.lineWidth=3;context.beginPath();context.arc(250,250,100,0,2*Math.PI,false);//NDZ marked with red circle\ncontext.stroke();context.restore();};var setupRadar=function setupRadar(){//draw grid\nvar c=document.getElementById(\"radarcanvas\");var context=c.getContext(\"2d\");context.clearRect(0,0,c.width,c.height);var p=0;for(var x=0;x<=c.width;x+=25){context.moveTo(0.5+x+p,p);context.lineTo(0.5+x+p,c.height+p);}for(var x=0;x<=c.height;x+=25){context.moveTo(p,0.5+x+p);context.lineTo(c.width+p,0.5+x+p);}context.strokeStyle=\"#ffd9d9\";context.stroke();};export default{updateRadar:updateRadar,setupRadar:setupRadar};","map":{"version":3,"names":["drawPoint","x","y","context","save","fillStyle","beginPath","arc","Math","PI","fill","restore","updateRadar","droneData","filter","Boolean","c","document","getElementById","getContext","font","Object","keys","map","drone","fillText","serialNumber","strokeStyle","lineWidth","stroke","setupRadar","clearRect","width","height","p","moveTo","lineTo"],"sources":["C:/Koodi/Reaktor/Reaktor/birdnest/src/services/RadarService.js"],"sourcesContent":["\r\nfunction drawPoint(x, y, context) {\r\n    context.save();\r\n    context.fillStyle = '#0000FF';\r\n    context.beginPath();\r\n    context.arc(x, y, 6, 0, 2 * Math.PI, false);\r\n    context.fill();\r\n    context.restore();\r\n  }\r\n\r\nconst updateRadar = ({droneData}) => {\r\n    droneData = droneData.filter(Boolean) //remove possible undefined objects\r\n    var c = document.getElementById(\"radarcanvas\");\r\n    var context = c.getContext(\"2d\");\r\n    context.font = \"14px Courier New\";\r\n    Object.keys(droneData).map(drone => {\r\n        drawPoint(droneData[drone].x/1000, 500 -droneData[drone].y/1000, context) //draw a point presenting a drone in the grid\r\n        context.fillText([droneData[drone].serialNumber], droneData[drone].x/1000 - 55, 500 - droneData[drone].y/1000 + 20); //nametag for the drone\r\n    })\r\n    context.font = \"20px Courier New\";\r\n    context.fillText('No-Fly Zone', 190, 255); //tag in the center of the circle\r\n    context.save();\r\n    context.strokeStyle = '#ff0000'\r\n    context.lineWidth = 3;\r\n    context.beginPath();\r\n    context.arc(250, 250, 100, 0, 2 * Math.PI, false); //NDZ marked with red circle\r\n    context.stroke();\r\n    context.restore();\r\n};\r\n\r\nconst setupRadar = () => { //draw grid\r\n    var c = document.getElementById(\"radarcanvas\");\r\n    var context = c.getContext(\"2d\");\r\n    context.clearRect(0, 0, c.width, c.height);\r\n    const p = 0;\r\n    for (var x = 0; x <= c.width; x += 25) {\r\n        context.moveTo(0.5 + x + p, p);\r\n        context.lineTo(0.5 + x + p, c.height + p);\r\n    }\r\n    for (var x = 0; x <= c.height; x += 25) {\r\n        context.moveTo(p, 0.5 + x + p);\r\n        context.lineTo(c.width + p, 0.5 + x + p);\r\n    }\r\n    context.strokeStyle = \"#ffd9d9\";\r\n    context.stroke()\r\n}\r\n\r\nexport default {\r\n    updateRadar: updateRadar,\r\n    setupRadar: setupRadar\r\n};"],"mappings":"AACA,QAASA,UAAS,CAACC,CAAC,CAAEC,CAAC,CAAEC,OAAO,CAAE,CAC9BA,OAAO,CAACC,IAAI,EAAE,CACdD,OAAO,CAACE,SAAS,CAAG,SAAS,CAC7BF,OAAO,CAACG,SAAS,EAAE,CACnBH,OAAO,CAACI,GAAG,CAACN,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAGM,IAAI,CAACC,EAAE,CAAE,KAAK,CAAC,CAC3CN,OAAO,CAACO,IAAI,EAAE,CACdP,OAAO,CAACQ,OAAO,EAAE,CACnB,CAEF,GAAMC,YAAW,CAAG,QAAdA,YAAW,MAAoB,IAAfC,UAAS,MAATA,SAAS,CAC3BA,SAAS,CAAGA,SAAS,CAACC,MAAM,CAACC,OAAO,CAAC,CAAC;AACtC,GAAIC,EAAC,CAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAC9C,GAAIf,QAAO,CAAGa,CAAC,CAACG,UAAU,CAAC,IAAI,CAAC,CAChChB,OAAO,CAACiB,IAAI,CAAG,kBAAkB,CACjCC,MAAM,CAACC,IAAI,CAACT,SAAS,CAAC,CAACU,GAAG,CAAC,SAAAC,KAAK,CAAI,CAChCxB,SAAS,CAACa,SAAS,CAACW,KAAK,CAAC,CAACvB,CAAC,CAAC,IAAI,CAAE,GAAG,CAAEY,SAAS,CAACW,KAAK,CAAC,CAACtB,CAAC,CAAC,IAAI,CAAEC,OAAO,CAAC,CAAC;AAC1EA,OAAO,CAACsB,QAAQ,CAAC,CAACZ,SAAS,CAACW,KAAK,CAAC,CAACE,YAAY,CAAC,CAAEb,SAAS,CAACW,KAAK,CAAC,CAACvB,CAAC,CAAC,IAAI,CAAG,EAAE,CAAE,GAAG,CAAGY,SAAS,CAACW,KAAK,CAAC,CAACtB,CAAC,CAAC,IAAI,CAAG,EAAE,CAAC,CAAE;AACzH,CAAC,CAAC,CACFC,OAAO,CAACiB,IAAI,CAAG,kBAAkB,CACjCjB,OAAO,CAACsB,QAAQ,CAAC,aAAa,CAAE,GAAG,CAAE,GAAG,CAAC,CAAE;AAC3CtB,OAAO,CAACC,IAAI,EAAE,CACdD,OAAO,CAACwB,WAAW,CAAG,SAAS,CAC/BxB,OAAO,CAACyB,SAAS,CAAG,CAAC,CACrBzB,OAAO,CAACG,SAAS,EAAE,CACnBH,OAAO,CAACI,GAAG,CAAC,GAAG,CAAE,GAAG,CAAE,GAAG,CAAE,CAAC,CAAE,CAAC,CAAGC,IAAI,CAACC,EAAE,CAAE,KAAK,CAAC,CAAE;AACnDN,OAAO,CAAC0B,MAAM,EAAE,CAChB1B,OAAO,CAACQ,OAAO,EAAE,CACrB,CAAC,CAED,GAAMmB,WAAU,CAAG,QAAbA,WAAU,EAAS,CAAE;AACvB,GAAId,EAAC,CAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAC9C,GAAIf,QAAO,CAAGa,CAAC,CAACG,UAAU,CAAC,IAAI,CAAC,CAChChB,OAAO,CAAC4B,SAAS,CAAC,CAAC,CAAE,CAAC,CAAEf,CAAC,CAACgB,KAAK,CAAEhB,CAAC,CAACiB,MAAM,CAAC,CAC1C,GAAMC,EAAC,CAAG,CAAC,CACX,IAAK,GAAIjC,EAAC,CAAG,CAAC,CAAEA,CAAC,EAAIe,CAAC,CAACgB,KAAK,CAAE/B,CAAC,EAAI,EAAE,CAAE,CACnCE,OAAO,CAACgC,MAAM,CAAC,GAAG,CAAGlC,CAAC,CAAGiC,CAAC,CAAEA,CAAC,CAAC,CAC9B/B,OAAO,CAACiC,MAAM,CAAC,GAAG,CAAGnC,CAAC,CAAGiC,CAAC,CAAElB,CAAC,CAACiB,MAAM,CAAGC,CAAC,CAAC,CAC7C,CACA,IAAK,GAAIjC,EAAC,CAAG,CAAC,CAAEA,CAAC,EAAIe,CAAC,CAACiB,MAAM,CAAEhC,CAAC,EAAI,EAAE,CAAE,CACpCE,OAAO,CAACgC,MAAM,CAACD,CAAC,CAAE,GAAG,CAAGjC,CAAC,CAAGiC,CAAC,CAAC,CAC9B/B,OAAO,CAACiC,MAAM,CAACpB,CAAC,CAACgB,KAAK,CAAGE,CAAC,CAAE,GAAG,CAAGjC,CAAC,CAAGiC,CAAC,CAAC,CAC5C,CACA/B,OAAO,CAACwB,WAAW,CAAG,SAAS,CAC/BxB,OAAO,CAAC0B,MAAM,EAAE,CACpB,CAAC,CAED,cAAe,CACXjB,WAAW,CAAEA,WAAW,CACxBkB,UAAU,CAAEA,UAChB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}